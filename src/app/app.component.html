<div class="flex justify-between items-center gap-10 p-5">
        <div pTooltip="Menu">
                <p-button icon="pi pi-bars" size="large" [rounded]="true" severity="secondary" [text]="false"
                        styleClass=""></p-button>
        </div>
        <div class="flex items-center gap-2">
                <div>
                        <i class="pi pi-search transform translate-y-5 translate-x-4 absolute z-1"></i>
                        <p-autocomplete [(ngModel)]="selectedCity" [suggestions]="filteredCities"
                                (completeMethod)="filterCity($event)" (onSelect)="setCoordinates()" field="city"
                                size="large" placeholder="City Search..." variant="filled" inputStyleClass="pl-10">
                                <ng-template let-city #item>
                                        <div class="flex items-center gap-4"><span
                                                        class="fi fi-{{ city.country.toLowerCase() }}"></span> {{
                                                city.city }} {{
                                                `${city.lat}°N ${city.long}°E` }}
                                        </div>
                                </ng-template>
                        </p-autocomplete>
                </div>
                <div pTooltip="Settings">
                        <p-button icon="pi pi-cog" size="large" [rounded]="true" severity="secondary"
                                [text]="false"></p-button>
                </div>
        </div>
        <div>
                <p-button [icon]="theme.themeIcon" [rounded]="true" severity="secondary" [text]="false" size="large"
                        pTooltip="Theme" (click)="toggleDarkMode()"></p-button>
        </div>
</div>

<div class="bg-surface-800 text-surface-50">
        <div class="flex flex-col items-start">
                <div *ngIf="selectedCity && selectedCity.city && selectedCity.country && selectedCity.lat && selectedCity.long"
                        class="flex flex-col gap-4 items-start pt-5 pl-5 pr-5 text-4xl">
                        <p>Weather {{ selectedCity.city }}</p>
                        <div class="flex items-center gap-4 text-sm">
                                <span class="fi fi-{{ selectedCity.country.toLowerCase() }}"></span>
                                <div>
                                        <p>{{
                                                `${selectedCity.lat}°N ${selectedCity.long}°E` }}</p>
                                </div>
                        </div>
                </div>
                <div *ngIf="!selectedCity || !selectedCity.city && !selectedCity.country && !selectedCity.lat && !selectedCity.long"
                        class="flex flex-col gap-4 items-start pt-5 pl-5 pr-5 text-4xl">
                        <p>Weather {{ weatherProps.city }}</p>
                        <div class="flex items-center gap-4 text-sm">
                                <span class="fi fi-{{ weatherProps.country.toLowerCase() }}"></span>
                                <div>
                                        <p>{{
                                                `${weatherProps.latitude}°N ${weatherProps.longitude}°E` }}</p>
                                </div>
                        </div>
                </div>
        </div>

        <div class="grid grid-cols-[repeat(auto-fill,minmax(400px,1fr))] gap-5 items-baseline p-5 h-screen mt-10">
                <p-card styleClass="card rounded-3xl bg-surface-700 text-surface-50">
                        <div class="flex flex-col items-center">
                                <div class="flex flex-col gap-10">
                                        <div class="flex flex-col gap-4">
                                                <div class="flex items-center gap-10">
                                                        <div class="flex items-center gap-2">
                                                                <i class="pi pi-info-circle"></i>
                                                                <p>Temperature</p>
                                                        </div>
                                                        <p class="flex items-center gap-1">{{
                                                                currentWeather.time | date:'HH:mm' }} <i
                                                                        class="pi pi-clock"></i></p>
                                                </div>
                                                <p class="text-7xl">{{ currentWeather.temperature_2m }}°C</p>
                                        </div>
                                        <div class="flex flex-col gap-4">
                                                <p>Temperature Felt</p>
                                                <p class="text-5xl">{{ currentWeather.apparent_temperature }}°C</p>
                                        </div>
                                        <div *ngIf="errorMessage">
                                                <p class="text-red-500">{{ errorMessage }}</p>
                                        </div>
                                </div>
                        </div>
                </p-card>

                <p-card styleClass=" rounded-3xl bg-surface-700 text-surface-50">
                        <div class="flex flex-col justify-center items-center">
                                <div class="flex flex-col gap-10">
                                        <div class="flex flex-col gap-4">
                                                <div>
                                                        <div class="flex items-center gap-2">
                                                                <i class="pi pi-info-circle"></i>
                                                                <p>Wind & Pressure</p>
                                                        </div>
                                                </div>
                                                <div class="flex items-center gap-10">
                                                        <span class="material-symbols-outlined text-8xl!">
                                                                air
                                                        </span>
                                                        <div class="flex flex-col">
                                                                <div class="flex items-center gap-4">
                                                                        <p class="text-3xl">{{
                                                                                currentWeather.wind_direction_10m}}</p>
                                                                        <p class="text-5xl">{{
                                                                                currentWeather.wind_speed_10m }}
                                                                                km/h</p>
                                                                </div>
                                                        </div>
                                                </div>
                                        </div>
                                        <div class="flex flex-col gap-4">
                                                <h1 class="flex items-center gap-10">Pressure</h1>
                                                <p class="text-3xl">{{
                                                        currentWeather.pressure_msl
                                                        }} hPa</p>
                                        </div>
                                </div>
                        </div>
                </p-card>

                <p-card styleClass=" rounded-3xl bg-surface-700 text-surface-50">
                        <div class="flex flex-col justify-center items-cente">
                                <div class="flex flex-col justify-center items-center">
                                        <div class="flex flex-col gap-10">
                                                <div class="flex flex-col gap-4">
                                                        <div class="flex items-center gap-2">
                                                                <i class="pi pi-info-circle"></i>
                                                                <p>Precipitation & Humidity</p>
                                                        </div>
                                                        <div class="mt-2">
                                                                <p-knob [(ngModel)]="currentWeather.relative_humidity_2m"
                                                                        valueTemplate="{value}%" [readonly]="true"
                                                                        [strokeWidth]="5" valueColor="var(--p-blue-600)"
                                                                        textColor="var(--p-surface-50)" />
                                                        </div>
                                                </div>
                                                <div class="flex flex-col gap-4">
                                                        <p>{{ currentWeather.precipitation }}</p>
                                                </div>
                                        </div>
                                </div>
                        </div>
                </p-card>
        </div>
</div>